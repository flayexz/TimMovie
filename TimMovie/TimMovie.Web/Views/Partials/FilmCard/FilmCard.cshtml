@model TimMovie.Web.ViewModels.FilmCard.FilmCardViewModel
@{
    var card = Model;
}

<div class="col [ film-card ]">
    <div class="position-relative">
        <a class="position-absolute [ film-card__more-info-container ]" asp-controller="Film" asp-action="Film" asp-route-id="@Model.Id">
            <div class="d-flex flex-column [ film-card__more-info ]">
                <div class="d-flex flex-column align-items-end">
                    <svg width="2.2em" fill="white" version="1.1" viewBox="0 0 700 700"
                         xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="m536.2 12.824h-372.4c-8.5117 0-15.625 7-15.625 15.625v502.77c0 12.938 14.895 20.328 25.258 12.434l176.62-139.95 176.62 140.28c10.305 7.8945 25.145 0.50391 25.145-12.434l-0.003906-503.11c0-8.625-7-15.625-15.625-15.625zm-15.625 486.98-161-128.3c-5.6016-4.2578-13.328-4.3672-19.039 0l-161.11 127.96v-455.34h341.15z"/>
                    </svg>
                    <svg class="mt-2" width="2.2em" fill="white" version="1.1" viewBox="0 0 700 700"
                         xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="m153.84 102.23c-26.82 21.855-43.027 54.121-44.547 88.68-1.6094 34.418 11.344 67.926 35.684 92.312l180.28 180.28c6.5664 6.5547 15.469 10.234 24.746 10.234s18.18-3.6797 24.746-10.234l180.28-180.28c24.332-24.391 37.285-57.891 35.684-92.305-1.5156-34.562-17.719-66.828-44.535-88.688-24.383-19.027-54.926-28.398-85.785-26.324-30.859 2.0703-59.871 15.445-81.492 37.562l-28.898 28.898-28.898-28.898c-21.617-22.121-50.629-35.496-81.488-37.566-30.859-2.0742-61.398 7.3008-85.777 26.328zm142.52 35.984 41.273 41.273-0.003906-0.003906c3.2812 3.2852 7.7344 5.1289 12.375 5.1289s9.0898-1.8438 12.371-5.1289l41.273-41.273v0.003906c15.434-16.016 36.227-25.781 58.406-27.441 22.18-1.6602 44.191 4.9062 61.836 18.441 19.066 15.633 30.633 38.594 31.852 63.215 1.2148 24.621-8.0312 48.609-25.457 66.047l-180.28 180.28-180.28-180.28c-17.43-17.438-26.676-41.426-25.457-66.051 1.2188-24.621 12.793-47.582 31.859-63.211 15.137-12.332 34.109-18.984 53.637-18.805 25 0.10156 48.945 10.098 66.598 27.805z"/>
                    </svg>
                </div>
                <div class="pe-2 d-flex flex-column text-end [ film-card__more-info-content ]">
                    <div>Рейтинг: @card.Rating/10</div>
                    <div>@card.Year, @card.CountryName,  @card.FirstGenreName</div>
                </div>
            </div>
        </a>
        <a href="" class="mw-100">
            <img class="rounded-2 mw-100 [ film-card__img ]"
                 src="@card.Image" alt=""/>
        </a>
        <div class="d-flex flex-column [ film-card__under-content ]">
            <a asp-controller="Film" asp-action="Film" asp-route-id="@Model.Id">
                @if (card.Title.Length >= 23)
                {
                    <div class="[ film-card__title ]" title="@card.Title">@($"{card.Title[..23]}...")</div>
                }
                else
                {
                    <div class="[ film-card__title ]">@card.Title</div>
                }
                
            </a>
            @if (!card.IsFree)
            {
                <div class="text-danger [ film-card__subscribe-text ]">Подписка</div>
            }
            else
            {
                <div class="[ film-card__subscribe-text ]">Бесплатно</div>
            }
        </div>
    </div>
</div>